<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whispers | Secure Entry</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #8b5cf6;
            --bg-dark: #050505;
            --card-bg: #0d0d0d;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            color: #ffffff;
            overflow-x: hidden;
        }

        .whisper-gradient {
            background: linear-gradient(135deg, #8b5cf6 0%, #d946ef 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .auth-card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .input-group input {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            border-color: var(--accent);
            background: rgba(255, 255, 255, 0.05);
            outline: none;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        .glass-circle {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
            filter: blur(40px);
            z-index: -1;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hidden-state {
            display: none;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Decorative Elements -->
    <div class="glass-circle top-[-10%] left-[-10%]"></div>
    <div class="glass-circle bottom-[-10%] right-[-10%]"></div>

    <div class="w-full max-w-md">
        <!-- Logo Area -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-800 tracking-tighter mb-2">
                <span class="whisper-gradient">WHISPERS</span>
            </h1>
            <p id="auth-subtitle" class="text-zinc-500 text-sm font-medium tracking-wide uppercase">Connect in silence.</p>
        </div>

        <!-- Auth Card -->
        <div class="auth-card rounded-[2.5rem] p-8 md:p-10">
            
            <!-- Login State -->
            <div id="login-state" class="fade-in">
                <h2 class="text-2xl font-semibold mb-6">Welcome back</h2>
                <form onsubmit="handleAuth(event, 'login')" class="space-y-4">
                    <div class="input-group">
                        <label class="text-[10px] uppercase font-bold text-zinc-500 ml-1 mb-2 block">Username or Email</label>
                        <input type="text" required class="w-full rounded-2xl px-4 py-4 text-white placeholder-zinc-600" placeholder="your_handle">
                    </div>
                    <div class="input-group">
                        <label class="text-[10px] uppercase font-bold text-zinc-500 ml-1 mb-2 block">Password</label>
                        <input type="password" required class="w-full rounded-2xl px-4 py-4 text-white placeholder-zinc-600" placeholder="••••••••">
                    </div>
                    <div class="flex justify-end">
                        <a href="#" class="text-xs text-zinc-500 hover:text-indigo-400 transition-colors">Forgot password?</a>
                    </div>
                    <button type="submit" class="btn-primary w-full py-4 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-500/20 mt-4">
                        Sign In
                    </button>
                </form>
                <div class="mt-8 text-center">
                    <p class="text-zinc-500 text-sm">New to Whispers? 
                        <button onclick="toggleState('signup')" class="text-indigo-400 font-semibold hover:underline">Create Account</button>
                    </p>
                </div>
            </div>

            <!-- Signup State -->
            <div id="signup-state" class="fade-in hidden-state">
                <h2 class="text-2xl font-semibold mb-6">Join the fold</h2>
                <form onsubmit="handleAuth(event, 'signup')" class="space-y-4">
                    <div class="input-group">
                        <label class="text-[10px] uppercase font-bold text-zinc-500 ml-1 mb-2 block">Pick a handle</label>
                        <input type="text" id="signup-username" required class="w-full rounded-2xl px-4 py-4 text-white placeholder-zinc-600" placeholder="e.g. moonlight_soul">
                    </div>
                    <div class="input-group">
                        <label class="text-[10px] uppercase font-bold text-zinc-500 ml-1 mb-2 block">Email Address</label>
                        <input type="email" required class="w-full rounded-2xl px-4 py-4 text-white placeholder-zinc-600" placeholder="you@example.com">
                    </div>
                    <div class="input-group">
                        <label class="text-[10px] uppercase font-bold text-zinc-500 ml-1 mb-2 block">Secure Password</label>
                        <input type="password" required class="w-full rounded-2xl px-4 py-4 text-white placeholder-zinc-600" placeholder="••••••••">
                    </div>
                    <p class="text-[10px] text-zinc-500 text-center px-4 leading-relaxed">
                        By signing up, you agree to our <span class="text-zinc-300">Privacy Protocols</span> and <span class="text-zinc-300">Shadow Rules</span>.
                    </p>
                    <button type="submit" class="btn-primary w-full py-4 rounded-2xl font-bold text-sm shadow-lg shadow-indigo-500/20 mt-4">
                        Initialize Account
                    </button>
                </form>
                <div class="mt-8 text-center">
                    <p class="text-zinc-500 text-sm">Already a member? 
                        <button onclick="toggleState('login')" class="text-indigo-400 font-semibold hover:underline">Sign In</button>
                    </p>
                </div>
            </div>

        </div>
        
        <!-- Footer -->
        <p class="text-center mt-8 text-zinc-600 text-xs font-medium">
            &copy; 2024 Whispers Protocol. End-to-end encrypted.
        </p>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-white text-black px-6 py-3 rounded-2xl text-sm font-bold shadow-2xl transition-all opacity-0 pointer-events-none translate-y-4">
        Success Message
    </div>

    <script>
        function toggleState(state) {
            const login = document.getElementById('login-state');
            const signup = document.getElementById('signup-state');
            const subtitle = document.getElementById('auth-subtitle');

            if (state === 'signup') {
                login.classList.add('hidden-state');
                signup.classList.remove('hidden-state');
                subtitle.innerText = "Start your quiet journey.";
            } else {
                signup.classList.add('hidden-state');
                login.classList.remove('hidden-state');
                subtitle.innerText = "Connect in silence.";
            }
        }

        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.style.background = isError ? '#ef4444' : '#ffffff';
            toast.style.color = isError ? '#ffffff' : '#000000';
            toast.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-4');
            
            setTimeout(() => {
                toast.classList.add('opacity-0', 'pointer-events-none', 'translate-y-4');
            }, 3000);
        }

        function handleAuth(event, type) {
            event.preventDefault();
            
            // For now, we simulate a successful login/signup
            // This will store the data in localStorage for the next phase (the chat app)
            const username = type === 'signup' 
                ? document.getElementById('signup-username').value 
                : 'User' + Math.floor(Math.random() * 1000);

            const profile = {
                username: username,
                joined: new Date().toISOString(),
                avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${username}`,
                isAuth: true
            };

            localStorage.setItem('whispers_session', JSON.stringify(profile));
            
            showToast(type === 'signup' ? "Account created!" : "Welcome back!");
            
            // Redirect simulation
            setTimeout(() => {
                // In a real app, window.location.href = '/chat'
                console.log("Authenticated as:", username);
                showToast("Redirecting to the Lounge...");
            }, 1500);
        }
    </script>
</body>
</html>
